import{c as m,r,j as t,m as o,A as v,C as j}from"./index-j8r0XJDO.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=m("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=m("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=m("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),I=i=>{const n=r.useRef(0);r.useEffect(()=>{{const s={position:document.body.style.position,top:document.body.style.top,width:document.body.style.width,overflow:document.body.style.overflow};return n.current=window.scrollY,document.body.style.position="fixed",document.body.style.width="100%",document.body.style.top=`-${n.current}px`,document.body.style.overflow="hidden",()=>{document.body.style.position=s.position,document.body.style.top=s.top,document.body.style.width=s.width,document.body.style.overflow=s.overflow,setTimeout(()=>{window.scrollTo(0,n.current)},10)}}},[i])},D=({selectedPhoto:i,setSelectedPhoto:n,photos:s})=>{const[d,u]=r.useState(!1),[h,l]=r.useState(0),[p,w]=r.useState(!1),f=e=>{e.preventDefault(),e.stopPropagation(),w(!0),setTimeout(()=>{n(null)},100)},b=e=>(s.findIndex(c=>c.id===e)+1)%s.length,y=e=>(s.findIndex(c=>c.id===e)-1+s.length)%s.length,g=()=>{if(i){const e=b(i.id);return n(s[e])}},x=()=>{if(i){const e=y(i.id);return n(s[e])}};return r.useEffect(()=>{const e=a=>{d&&a.target&&a.target.closest(".modal-content")&&a.preventDefault()};return document.addEventListener("touchmove",e,{passive:!1}),()=>{document.removeEventListener("touchmove",e)}},[d]),I(!0),t.jsxs(o.div,{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4 ",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>n(null),children:[t.jsx(o.button,{className:"absolute  z-10 left-4 top-1/2 -translate-y-1/2 text-white bg-gold-600/20 backdrop-blur-sm p-2 rounded-full",onClick:e=>{e.stopPropagation(),x()},children:t.jsx(N,{className:"w-8 h-8"})}),t.jsx(o.button,{className:"absolute z-50 right-4 top-1/2 -translate-y-1/2 text-white bg-gold-600/20 backdrop-blur-sm p-2 rounded-full",onClick:e=>{e.stopPropagation(),g()},children:t.jsx(C,{className:"w-8 h-8 "})}),t.jsx(o.button,{className:"absolute top-6 right-6 z-10 text-white bg-gold-600/20 backdrop-blur-sm p-2 rounded-full",onClick:f,children:t.jsx(k,{className:"w-9 h-9"})}),t.jsx(o.div,{className:"relative max-w-xl max-h-[100%] overflow-hidden rounded-lg modal-content",initial:{scale:.9},animate:{scale:1,x:0,transition:{type:"spring",stiffness:300,damping:30}},exit:{scale:.9},onClick:e=>e.stopPropagation(),drag:p?!1:"x",dragConstraints:{left:0,right:0},onDragStart:()=>u(!0),onDragEnd:(e,{offset:a,velocity:c})=>{u(!1),p||(a.x<-80&&Math.abs(c.x)>.3?g():a.x>80&&Math.abs(c.x)>.3&&x()),l(0)},onDrag:(e,{offset:a})=>{p||l(a.x)},children:t.jsx(v,{mode:"wait",initial:!1,children:t.jsxs(o.div,{className:"relative max-w-3xl max-h-[80vh] overflow-hidden rounded-lg",initial:{opacity:0},animate:{opacity:1,x:0,transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2}}},exit:{opacity:0,transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2}}},onClick:e=>e.stopPropagation(),children:[t.jsx(o.img,{src:i.url,alt:i.alt,className:"w-full h-full object-contain"}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/70 to-transparent",children:t.jsx("p",{className:"text-white text-lg",children:i.alt})})]},i.id)})})]})},L="/assets/1-CqA6LQRV.webp",R="/assets/2-p67kFAm7.webp",E="/assets/3-CRFy9xhb.webp",A="/assets/5-QQYLpUAd.webp",P="/assets/6-CWEAnqHH.webp",S="/assets/7-CLU8deAW.webp",q="/assets/8-DYAv75Ya.webp",z="/assets/9-CKmVp7Xq.webp",B="/assets/11-B-jfqew8.webp",M="/assets/12-CGSReG3X.webp",X="/assets/14-BHBx6P1g.webp",Y="/assets/15-RloI9lwG.webp",T="/assets/17-BUBoIDZp.webp",U="/assets/18-CfmtlO7j.webp",V="/assets/19-DB37-0X6.webp",G="/assets/20-CDLL3tek.webp",H="/assets/21-DNevsyXU.webp",Q="/assets/23-CUWS1d7Y.webp";function $(){const[i,n]=r.useState(null),[s,d]=r.useState(!1),u=r.useRef(null),h=[{id:"1",url:P,alt:"",width:2,height:2,cluster:"engagement"},{id:"2",url:R,alt:"",width:2,height:1,cluster:"engagement"},{id:"3",url:E,alt:"",width:2,height:2,cluster:"engagement"},{id:"5",url:A,alt:"",width:2,height:1,cluster:"ceremony"},{id:"6",url:L,alt:"",width:2,height:1,cluster:"family"},{id:"7",url:S,alt:"",width:1,height:1,cluster:"ceremony"},{id:"8",url:q,alt:"",width:2,height:1,cluster:"friends"},{id:"9",url:z,alt:"",width:2,height:1,cluster:"ceremony"},{id:"11",url:B,alt:"",width:1,height:1,cluster:"family"},{id:"12",url:M,alt:"",width:2,height:2,cluster:"family"},{id:"14",url:X,alt:"",width:2,height:2,cluster:"family"},{id:"15",url:Y,alt:"",width:2,height:1,cluster:"family"},{id:"16",url:Q,alt:"",width:1,height:1,cluster:"ceremony"},{id:"17",url:T,alt:"",width:1,height:1,cluster:"friends"},{id:"18",url:U,alt:"",width:1,height:1,cluster:"ceremony"},{id:"19",url:V,alt:"",width:1,height:1,cluster:"friends"},{id:"20",url:G,alt:"",width:2,height:2,cluster:"ceremony"},{id:"21",url:H,alt:"",width:2,height:1,cluster:"ceremony"}];return t.jsx(o.section,{className:"py bg-white relative overflow-hidden",initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.8},viewport:{once:!0,margin:"-100px"},children:t.jsxs("div",{className:"container mx-auto px-4 pt-6",children:[t.jsxs(o.div,{initial:{y:30,opacity:0},whileInView:{y:0,opacity:1},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[t.jsx("div",{className:"flex justify-center mb-4",children:t.jsx(j,{className:"w-12 h-12 text-gold-600"})}),t.jsx("h2",{className:"text-3xl md:text-2xl font-serif mb-6 text-gold-800",children:"កម្រងរូបភាពអនុស្សាវរីយ៍"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-0 rounded-xl border-4 border-gold-200"}),t.jsx("div",{className:"overflow-hidden border-4 border-gold-100 p-4 bg-transparent shadow-lg relative",children:t.jsx("div",{ref:u,className:"overflow-hidden relative",children:t.jsx(o.div,{className:"grid grid-cols-6 md:grid-cols-6 gap-2 min-h-[400px] w-[calc(100%+200px)]",drag:"x",dragConstraints:u,dragElastic:0,initial:!1,onDragStart:()=>d(!0),onDragEnd:()=>setTimeout(()=>d(!1),100),style:{touchAction:"pan-x"},children:h.map(l=>t.jsxs("div",{className:`relative overflow-hidden rounded-lg shadow-sm cursor-pointer transform transition-transform duration-300 hover:scale-[1.03]
                      ${l.width===2?"col-span-2":"col-span-1"}
                      ${l.height===2?"row-span-2":"row-span-1"}
                    `,onClick:()=>{s||n(l)},children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300 z-10"}),t.jsx("img",{src:l.url,alt:l.alt,className:"w-full h-full object-cover aspect-square",loading:"lazy",draggable:"false"})]},l.id))})})})]}),i&&t.jsx(D,{setSelectedPhoto:n,selectedPhoto:i,photos:h})]})})}export{$ as default};
