import{c as g,r as o,j as t,m as l,A as y,u as j,C as N}from"./index-DtRln34K.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=g("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=g("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=g("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),D=({selectedPhoto:i,setSelectedPhoto:r,photos:s})=>{const[c,d]=o.useState(!1),[p,a]=o.useState(0),[m,u]=o.useState(!1),w=e=>{e.preventDefault(),e.stopPropagation(),u(!0),r(null)},b=e=>(s.findIndex(h=>h.id===e)+1)%s.length,v=e=>(s.findIndex(h=>h.id===e)-1+s.length)%s.length,x=()=>{if(i){const e=b(i.id);return u(!0),r(s[e])}},f=()=>{if(i){const e=v(i.id);return r(s[e])}};return o.useEffect(()=>{const e=n=>{c&&n.target&&n.target.closest(".modal-content")&&n.preventDefault()};if(i)return document.addEventListener("touchmove",e,{passive:!1}),()=>{document.removeEventListener("touchmove",e)}},[c,i]),o.useEffect(()=>()=>{u(!1),a(0),d(!1)},[]),t.jsxs(l.div,{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4 ",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>r(null),children:[t.jsx(l.button,{className:"absolute  z-10 left-4 top-1/2 -translate-y-1/2 text-white bg-gold-600/20 backdrop-blur-sm p-2 rounded-full",onClick:e=>{e.stopPropagation(),f()},children:t.jsx(C,{className:"w-8 h-8"})}),t.jsx(l.button,{className:"absolute z-50 right-4 top-1/2 -translate-y-1/2 text-white bg-gold-600/20 backdrop-blur-sm p-2 rounded-full",onClick:e=>{e.stopPropagation(),x()},children:t.jsx(I,{className:"w-8 h-8 "})}),t.jsx(l.button,{className:"absolute top-6 right-6 z-10 text-white bg-gold-600/20 backdrop-blur-sm p-2 rounded-full",onClick:w,children:t.jsx(k,{className:"w-9 h-9"})}),t.jsx(l.div,{className:"relative max-w-xl max-h-[100%] overflow-hidden rounded-lg modal-content",initial:{scale:.9},animate:{scale:1,x:0,transition:{type:"spring",stiffness:200,damping:10}},exit:{scale:.9},onClick:e=>e.stopPropagation(),drag:m?!1:"x",dragConstraints:{left:0,right:0},onDragStart:()=>d(!0),onDragEnd:(e,{offset:n,velocity:h})=>{d(!1),m||(n.x<-40&&Math.abs(h.x)>.2?x():n.x>40&&Math.abs(h.x)>.2&&f()),a(0)},onDrag:(e,{offset:n})=>{m||a(n.x)},children:t.jsx(y,{mode:"wait",onExitComplete:()=>{u(!1),a(0)},children:t.jsxs(l.div,{className:"relative max-w-3xl max-h-[80vh] overflow-hidden rounded-lg",initial:{opacity:0},animate:{opacity:1,x:0,transition:{opacity:{duration:.2}}},exit:{opacity:0,transition:{opacity:{duration:.2}}},onClick:e=>e.stopPropagation(),children:[t.jsx(l.img,{src:i.url,alt:i.alt,className:"w-full h-full object-contain"}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/70 to-transparent",children:t.jsx("p",{className:"text-white text-lg",children:i.alt})})]},i.id)})})]})},L="https://manithpichta.online/assets/1-CqA6LQRV.webp",E="https://manithpichta.online/assets/2-p67kFAm7.webp",A="https://manithpichta.online/assets/3-CRFy9xhb.webp",R="https://manithpichta.online/assets/5-QQYLpUAd.webp",S="https://manithpichta.online/assets/6-CWEAnqHH.webp",M="https://manithpichta.online/assets/7-CLU8deAW.webp",P="https://manithpichta.online/assets/8-DYAv75Ya.webp",V="https://manithpichta.online/assets/9-CKmVp7Xq.webp",q="https://manithpichta.online/assets/11-B-jfqew8.webp",z="https://manithpichta.online/assets/12-CGSReG3X.webp",B="https://manithpichta.online/assets/14-BHBx6P1g.webp",X="https://manithpichta.online/assets/15-RloI9lwG.webp",U="https://manithpichta.online/assets/17-BUBoIDZp.webp",$="https://manithpichta.online/assets/18-CfmtlO7j.webp",G="https://manithpichta.online/assets/19-DB37-0X6.webp",Y="https://manithpichta.online/assets/20-CDLL3tek.webp",H="https://manithpichta.online/assets/21-DNevsyXU.webp",Q="https://manithpichta.online/assets/23-CUWS1d7Y.webp",W=({src:i,alt:r,className:s})=>{const[c,d]=o.useState(!1),{ref:p,inView:a}=j({triggerOnce:!0,threshold:.1,rootMargin:"50px"});return t.jsxs("div",{ref:p,className:"relative w-full h-full",children:[t.jsx("div",{className:`absolute inset-0 bg-gray-200 ${c?"opacity-0":"opacity-100"} transition-opacity duration-300`}),a&&t.jsx("img",{src:i,alt:r,className:`${s} ${c?"opacity-100":"opacity-0"} transition-opacity duration-300`,onLoad:()=>d(!0),draggable:"false"})]})};function O(){const[i,r]=o.useState(null),[s,c]=o.useState(!1),d=o.useRef(null),p=[{id:"1",url:S,alt:"",width:2,height:2,cluster:"engagement"},{id:"2",url:E,alt:"",width:2,height:1,cluster:"engagement"},{id:"3",url:A,alt:"",width:2,height:2,cluster:"engagement"},{id:"5",url:R,alt:"",width:2,height:1,cluster:"ceremony"},{id:"6",url:L,alt:"",width:2,height:1,cluster:"family"},{id:"7",url:M,alt:"",width:1,height:1,cluster:"ceremony"},{id:"8",url:P,alt:"",width:2,height:1,cluster:"friends"},{id:"9",url:V,alt:"",width:2,height:1,cluster:"ceremony"},{id:"11",url:q,alt:"",width:1,height:1,cluster:"family"},{id:"12",url:z,alt:"",width:2,height:2,cluster:"family"},{id:"14",url:B,alt:"",width:2,height:2,cluster:"family"},{id:"15",url:X,alt:"",width:2,height:1,cluster:"family"},{id:"16",url:Q,alt:"",width:1,height:1,cluster:"ceremony"},{id:"17",url:U,alt:"",width:1,height:1,cluster:"friends"},{id:"18",url:$,alt:"",width:1,height:1,cluster:"ceremony"},{id:"19",url:G,alt:"",width:1,height:1,cluster:"friends"},{id:"20",url:Y,alt:"",width:2,height:2,cluster:"ceremony"},{id:"21",url:H,alt:"",width:2,height:1,cluster:"ceremony"}];return t.jsx(l.section,{className:"py bg-white relative overflow-hidden",initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.8},viewport:{once:!0,margin:"-100px"},children:t.jsxs("div",{className:"container mx-auto px-4 pt-6",children:[t.jsxs(l.div,{initial:{y:30,opacity:0},whileInView:{y:0,opacity:1},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[t.jsx("div",{className:"flex justify-center mb-4",children:t.jsx(N,{className:"w-12 h-12 text-gold-600"})}),t.jsx("h2",{className:"font-moul text-3xl md:text-2xl  mb-6 text-gold-800",children:"កម្រងរូបភាពអនុស្សាវរីយ៍"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-0 rounded-xl border-4 border-gold-200"}),t.jsx("div",{className:"overflow-hidden border-4 border-gold-100 p-4 bg-transparent shadow-lg relative",children:t.jsx("div",{ref:d,className:"overflow-hidden relative",children:t.jsx(l.div,{className:"grid grid-cols-6 md:grid-cols-6 gap-2 min-h-[400px] w-100%",drag:"x",dragConstraints:d,dragElastic:0,initial:!1,onDragStart:()=>c(!0),onDragEnd:()=>setTimeout(()=>c(!1),100),style:{touchAction:"pan-x"},children:p.map(a=>t.jsxs("div",{className:`relative overflow-hidden rounded-lg shadow-sm cursor-pointer transform transition-transform duration-300 hover:scale-[1.03]
                      ${a.width===2?"col-span-2":"col-span-1"}
                      ${a.height===2?"row-span-2":"row-span-1"}
                    `,onClick:()=>{s||r(a)},children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300 z-10"}),t.jsx(W,{src:a.url,alt:a.alt,className:"w-full h-full object-cover aspect-square"})]},a.id))})})})]}),i&&t.jsx(D,{setSelectedPhoto:r,selectedPhoto:i,photos:p})]})})}export{O as default};
