import{c as m,r,j as t,m as l,A as v,u as j,C as N}from"./index-CFvjlCLQ.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=m("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=m("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=m("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),D=s=>{const n=r.useRef(0);r.useEffect(()=>{{const i={position:document.body.style.position,top:document.body.style.top,width:document.body.style.width,overflow:document.body.style.overflow};return n.current=window.scrollY,document.body.style.position="fixed",document.body.style.width="100%",document.body.style.top=`-${n.current}px`,document.body.style.overflow="hidden",()=>{document.body.style.position=i.position,document.body.style.top=i.top,document.body.style.width=i.width,document.body.style.overflow=i.overflow,setTimeout(()=>{window.scrollTo(0,n.current)},10)}}},[s])},L=({selectedPhoto:s,setSelectedPhoto:n,photos:i})=>{const[c,d]=r.useState(!1),[p,a]=r.useState(0),[u,f]=r.useState(!1),w=e=>{e.preventDefault(),e.stopPropagation(),f(!0),setTimeout(()=>{n(null)},100)},y=e=>(i.findIndex(h=>h.id===e)+1)%i.length,b=e=>(i.findIndex(h=>h.id===e)-1+i.length)%i.length,g=()=>{if(s){const e=y(s.id);return n(i[e])}},x=()=>{if(s){const e=b(s.id);return n(i[e])}};return r.useEffect(()=>{const e=o=>{c&&o.target&&o.target.closest(".modal-content")&&o.preventDefault()};return document.addEventListener("touchmove",e,{passive:!1}),()=>{document.removeEventListener("touchmove",e)}},[c]),D(!0),t.jsxs(l.div,{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4 ",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>n(null),children:[t.jsx(l.button,{className:"absolute  z-10 left-4 top-1/2 -translate-y-1/2 text-white bg-gold-600/20 backdrop-blur-sm p-2 rounded-full",onClick:e=>{e.stopPropagation(),x()},children:t.jsx(C,{className:"w-8 h-8"})}),t.jsx(l.button,{className:"absolute z-50 right-4 top-1/2 -translate-y-1/2 text-white bg-gold-600/20 backdrop-blur-sm p-2 rounded-full",onClick:e=>{e.stopPropagation(),g()},children:t.jsx(I,{className:"w-8 h-8 "})}),t.jsx(l.button,{className:"absolute top-6 right-6 z-10 text-white bg-gold-600/20 backdrop-blur-sm p-2 rounded-full",onClick:w,children:t.jsx(k,{className:"w-9 h-9"})}),t.jsx(l.div,{className:"relative max-w-xl max-h-[100%] overflow-hidden rounded-lg modal-content",initial:{scale:.9},animate:{scale:1,x:0,transition:{type:"spring",stiffness:300,damping:30}},exit:{scale:.9},onClick:e=>e.stopPropagation(),drag:u?!1:"x",dragConstraints:{left:0,right:0},onDragStart:()=>d(!0),onDragEnd:(e,{offset:o,velocity:h})=>{d(!1),u||(o.x<-80&&Math.abs(h.x)>.3?g():o.x>80&&Math.abs(h.x)>.3&&x()),a(0)},onDrag:(e,{offset:o})=>{u||a(o.x)},children:t.jsx(v,{mode:"wait",initial:!1,children:t.jsxs(l.div,{className:"relative max-w-3xl max-h-[80vh] overflow-hidden rounded-lg",initial:{opacity:0},animate:{opacity:1,x:0,transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2}}},exit:{opacity:0,transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2}}},onClick:e=>e.stopPropagation(),children:[t.jsx(l.img,{src:s.url,alt:s.alt,className:"w-full h-full object-contain"}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/70 to-transparent",children:t.jsx("p",{className:"text-white text-lg",children:s.alt})})]},s.id)})})]})},R="https://manithpichta.online/assets/1-CqA6LQRV.webp",E="https://manithpichta.online/assets/2-p67kFAm7.webp",S="https://manithpichta.online/assets/3-CRFy9xhb.webp",A="https://manithpichta.online/assets/5-QQYLpUAd.webp",P="https://manithpichta.online/assets/6-CWEAnqHH.webp",M="https://manithpichta.online/assets/7-CLU8deAW.webp",V="https://manithpichta.online/assets/8-DYAv75Ya.webp",q="https://manithpichta.online/assets/9-CKmVp7Xq.webp",z="https://manithpichta.online/assets/11-B-jfqew8.webp",B="https://manithpichta.online/assets/12-CGSReG3X.webp",X="https://manithpichta.online/assets/14-BHBx6P1g.webp",Y="https://manithpichta.online/assets/15-RloI9lwG.webp",$="https://manithpichta.online/assets/17-BUBoIDZp.webp",T="https://manithpichta.online/assets/18-CfmtlO7j.webp",U="https://manithpichta.online/assets/19-DB37-0X6.webp",G="https://manithpichta.online/assets/20-CDLL3tek.webp",H="https://manithpichta.online/assets/21-DNevsyXU.webp",Q="https://manithpichta.online/assets/23-CUWS1d7Y.webp",W=({src:s,alt:n,className:i})=>{const[c,d]=r.useState(!1),{ref:p,inView:a}=j({triggerOnce:!0,threshold:.1,rootMargin:"50px"});return t.jsxs("div",{ref:p,className:"relative w-full h-full",children:[t.jsx("div",{className:`absolute inset-0 bg-gray-200 ${c?"opacity-0":"opacity-100"} transition-opacity duration-300`}),a&&t.jsx("img",{src:s,alt:n,className:`${i} ${c?"opacity-100":"opacity-0"} transition-opacity duration-300`,onLoad:()=>d(!0),draggable:"false"})]})};function O(){const[s,n]=r.useState(null),[i,c]=r.useState(!1),d=r.useRef(null),p=[{id:"1",url:P,alt:"",width:2,height:2,cluster:"engagement"},{id:"2",url:E,alt:"",width:2,height:1,cluster:"engagement"},{id:"3",url:S,alt:"",width:2,height:2,cluster:"engagement"},{id:"5",url:A,alt:"",width:2,height:1,cluster:"ceremony"},{id:"6",url:R,alt:"",width:2,height:1,cluster:"family"},{id:"7",url:M,alt:"",width:1,height:1,cluster:"ceremony"},{id:"8",url:V,alt:"",width:2,height:1,cluster:"friends"},{id:"9",url:q,alt:"",width:2,height:1,cluster:"ceremony"},{id:"11",url:z,alt:"",width:1,height:1,cluster:"family"},{id:"12",url:B,alt:"",width:2,height:2,cluster:"family"},{id:"14",url:X,alt:"",width:2,height:2,cluster:"family"},{id:"15",url:Y,alt:"",width:2,height:1,cluster:"family"},{id:"16",url:Q,alt:"",width:1,height:1,cluster:"ceremony"},{id:"17",url:$,alt:"",width:1,height:1,cluster:"friends"},{id:"18",url:T,alt:"",width:1,height:1,cluster:"ceremony"},{id:"19",url:U,alt:"",width:1,height:1,cluster:"friends"},{id:"20",url:G,alt:"",width:2,height:2,cluster:"ceremony"},{id:"21",url:H,alt:"",width:2,height:1,cluster:"ceremony"}];return t.jsx(l.section,{className:"py bg-white relative overflow-hidden",initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.8},viewport:{once:!0,margin:"-100px"},children:t.jsxs("div",{className:"container mx-auto px-4 pt-6",children:[t.jsxs(l.div,{initial:{y:30,opacity:0},whileInView:{y:0,opacity:1},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[t.jsx("div",{className:"flex justify-center mb-4",children:t.jsx(N,{className:"w-12 h-12 text-gold-600"})}),t.jsx("h2",{className:"text-3xl md:text-2xl font-serif mb-6 text-gold-800",children:"កម្រងរូបភាពអនុស្សាវរីយ៍"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-0 rounded-xl border-4 border-gold-200"}),t.jsx("div",{className:"overflow-hidden border-4 border-gold-100 p-4 bg-transparent shadow-lg relative",children:t.jsx("div",{ref:d,className:"overflow-hidden relative",children:t.jsx(l.div,{className:"grid grid-cols-6 md:grid-cols-6 gap-2 min-h-[400px] w-100%",drag:"x",dragConstraints:d,dragElastic:0,initial:!1,onDragStart:()=>c(!0),onDragEnd:()=>setTimeout(()=>c(!1),100),style:{touchAction:"pan-x"},children:p.map(a=>t.jsxs("div",{className:`relative overflow-hidden rounded-lg shadow-sm cursor-pointer transform transition-transform duration-300 hover:scale-[1.03]
                      ${a.width===2?"col-span-2":"col-span-1"}
                      ${a.height===2?"row-span-2":"row-span-1"}
                    `,onClick:()=>{i||n(a)},children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300 z-10"}),t.jsx(W,{src:a.url,alt:a.alt,className:"w-full h-full object-cover aspect-square"})]},a.id))})})})]}),s&&t.jsx(L,{setSelectedPhoto:n,selectedPhoto:s,photos:p})]})})}export{O as default};
